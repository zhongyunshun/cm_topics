	Automation in Construction 13 (2004) 575–589	www.elsevier.com/locate/autcon4D dynamic management for construction planning and                             $ resource utilizationH.J. Wanga, J.P. Zhanga,*, K.W. Chaub, M. AnsonbaThe Department of Civil Engineering of Tsinghua University, Beijing, 100084, China bDepartment of Civil and Structural Engineering, The Hong Kong Polytechnic University, ChinaAbstract   The requirements, nowadays, for more effective planning and management assistance from computer have become even more demanding. In this paper, our 4D model, 4D Site Management Model+ (4DSMM+), is described, a model developed in an attempt to address the requirement for linking scheduling data to a 3D computer graphics building model, which will allow planners to perform graphic simulations of the construction process. Compared to other 4D models and our earlier research, the current model extends 4D technology into the areas of resource management and site space utilization, in addition to the planning of building construction. A new information system platform, 4D Management for Construction Planning and Resource Utilization (4D-MCPRU), has been developed in this research, in order to implement the model 4DSMM+, which integrates dynamic resource management at the project level and decision-making support with the other features. This paper discusses features of the newly extended model and describes the underlying techniques needed for applying the model in construction management practice.D 2004 Elsevier B.V. All rights reserved.Keywords: 4D Site Management Model+; 4D Management for Construction Planning and Resource Utilization; 4D technology1. Introduction  Thorough construction planning and efficient site utilization are of importance in the site management of building construction. Today’s complex projects, coupled with an increasing number of project participants, require more effective planning and commu-nication. In the last 20 years, advances in 3D-CAD technologies have provided the opportunity to use a 3D model to manage construction information. In a 3D environment, planners, designers, and engineers can view realistic images of a construction project. Nevertheless, 3D-CAD cannot provide much further help to the construction planner in the area of construction progress control. A construction schedule is$     This research is supported by Natural Science Foundation of China and Research Grants Council of Hong Kong.   * Corresponding author. Tel.: +86-6278-2706; fax: +86-62784975.   E-mail addresses: cehjwang@polyu.edu.hk (H.J. Wang), zhangjp@mail.tsinghua.edu.cn (J.P. Zhang), cekwchau@polyu.edu.hk (K.W. Chau), clanson@inet.polyu.edu.hk (M. Anson).difficult for planners to produce directly from 3D drawings. Instead, planners have to envision the sequence of construction in their mind, and workspace logistics, and the utilization of resources and equipment are highly dynamic in nature, related to time as well as space. However, site organization is often based on site layout and usage drawings, although0926-5805/$ - see front matter D 2004 Elsevier B.V. All rights reserved.doi:10.1016/j.autcon.2004.04.003  
most of those are rarely updated to reflect the dynamism on site.  In 1996, the Center for Integrated Facility Engineering (CIFE) at Stanford University formally used the concept of 4D-CAD for the first time. Compared to 3D-CAD, the 4D-CAD concept attaches time information to the traditional 3D model, making it possible to display a construction schedule in a 3D environment. Though the concept of 4D-CAD has been promoted for less than 10 years, there are many of research groups focusing on this newly generated field. First-generation 4D tools can output a movie or animation film of a series of activity queues so that all participants can view the 4D visualization to understand the construction plan more realistically. 4D tools can demonstrate the entire construction progress in a vivid way and show potential conflicts in a construction site. Planners can also practice what-if analysis to assess and compare several planning options to select a better strategy. To fully maximize the benefits of 4D technologies, recent researchers have tried to extend the 4D concept to incorporate other construction aspects, such as resource management and cost assessment. New generation 4D tools have become one link in theArchitecture, Engineering, and Construction (A/E/ C) practice loop towards the implementation of the paperless construction environment.  The purpose of this paper is to describe our work into the platform, 4D Management for Construction Planning and Resource Utilization (acronym 4DMCPRU), which has been evolving jointly by the Department of Civil Engineering of Tsinghua University and the Department of Civil and Structural Engineering of The Hong Kong Polytechnic University since 1993. In 4D-MCPRU, a 4D site management model is generated, linking a 3D model with a project activity schedule. Each activity is suitably annotated with its resource requirements including material, plant, labour, workspace and cost. The motivating research interest behind the development of 4D-MCPRU is to provide assistance at the site management level for planning and communication, especially including the flexible short-term detailed re-planning that is an ongoing feature on most sites, so as to both study the way site management works and to work towards providing software which will be as helpful as possible.  Besides 4D visualization, 4D-MCPRU tries to go beyond the first-generation 4D tools, by extending the 4D model to the two pertinent fields of construction resource management and dynamic site planning. The 4D-MCPRU provides an information platform that couples the project schedule and dynamic site plan with the project 3D model to implement the purpose of site management, incorporating construction planning, analysis of resource requirement for each construction activity, assignment of construction materials, cost evaluation and generation of site layouts. Several desirable features are introduced in 4D-MCPRU. One of them is two-way data exchange that links adjustment of a 4D state on the graphic screen and the automatic revision of the scheduling information and vice versa. Other features include a Work Breakdown Structure (WBS), allowing easy addition of future modules and applications and dynamic resource calculation.2. Review of 4D technology  For a long time, construction plans have been mainly generated by computer-based tools as 2D diagrams or charts, such as bar charts and/or CPM network charts, lacking the spatial features of actual construction. In parallel, with the aid of widely used CAD applications, many construction enterprises build 3D models for their projects on a CAD platform. However, on their own, those 3D models can only provide static images and cannot display the exact status of a project at a specified period. There are no data integration and interaction between the 3D model, schedule information and other data. The related resource and workspace requirements are coordinated mentally and are not usually explicit on the bar chart. Without a visual representation of construction site including the construction progress of the buildings and status of the use of site space as time elapses, planners must rely much on their experience and intuition, imagination and judgment to extract data from paper-based design documents and decide upon the appropriate method of construction, its timings and the site usage layout. Site managers receive no help from the computer from that point of view.  However, 4D technology does import time information into static 3D model, making it possible for planners to view construction progress in a 3D environment (see Fig. 1). Because of its significant potential benefits in the construction field, 4D-CAD has in the past decade attracted many researchers to develop its potential. Williams [1] developed a research prototype that associated CAD geometry with construction activities to generate a 4D movie. In work performed at CIFE at Stanford University in 1994, Collier and Fischer [2] applied similar techniques to a construction project using a commercial 4D tool. This 4D tool used a batch process to link layers in a 3DCAD model to construction activities. After that, to overcome problems of operating schedule information outside the 3D graphic environment, another prototype 4D tool, CIFE 4D-CAD, was developed to allow planners to ‘interactively’ generate CAD, schedule, and 4D content within a single environment [3]. This prototype is built on AutoCADR and linked to a knowledge-based engineering system, D+ +R [4]. In a given sample, the planner can open the 3D-CAD model of the roof-gutter assembly and edit that model, generate or edit the schedule information, and associate CAD entities with construction activities within the single CIFE 4D-CAD environment. CIFE 4DCAD stores this information in a semantic 4D model that represents CAD entities as 4D product components and schedule information as 4D process components within the knowledge-based environment. Consequently, the planner has access to all of the 4D content—the 3D-CAD geometry, the schedule information and their associations—within a 4D environment. With CIFE 4D-CAD, the planner can redesign, re-sequence, or re-associate CAD geometry with construction activities to quickly develop alternative construction sequences. Adjei-Kumi and Retik [5] presented a library-based 4D model for planning and visualizing the construction plan in a near-reality sense.Fig. 1. 4D concept.  After the first-generation 4D tools had shown the benefits and opportunities for visualizing construction information in a 4D context, researchers started to explore new application fields for this new
concept. CIFE announced a new 4D-CAD application, 4D Annotator [6]. It was a visual decision support tool designed to document the structure and form of planning information that planners needed to make planning decisions. 4D-Annotator tried to find a solution to make 4D context more accessible and interpretable in order to support decision-making and demonstrate how this information could be utilized easily for construction planners to view and access information produced by two other CIFE tools, CMM and WorkPlanner. Rather than simply displaying textual-based messages, annotation directly adds planning information to the visual image of the construction process. Thus, planners can quickly locate potential problem areas through well-designed visual cues in the same manner that colorful images show stress ratios on structures.  In the commercial application field, the 4D concept has started to appear in software, which is usually based on an existing 3D-CAD platform. One example is Bentley Schedule Simulator [7], also previously known as PlantSpace Schedule Simulator, which integrates intelligent 3D models developed during detailed engineering with the schedule/planning activities of the project control group. The software works hand-in-hand with leading project planning/scheduling tools, databases, and 3D modeling applications in multiple formats. It provides impressive handling of real-world project scenarios, updating the simulation based on changes made to the 3D design or to the schedule. At the same time, earlier 4D models had also begun to be evaluated in commercial construction project to enable more people to understand a schedule quickly and identify potential problems[8,9].  Nowadays, 4D technology has moved far beyond its original of 4D visualization stage. Collaborative A/E/C model working has become a trend in the construction industry. Considering that the 4D model has the advantage of linking images of both designers and construction planners, 4D-CAD plays a key role in today’s A/E/C environment. All participants of a construction project may not only inspect 3D model through the project data network, but also get to know exactly the construction progress in time to adjust construction schedules, and to calculate resource usage and cost in a specific period, thereby contributing to resource planning [10].3. Our research in 4D field  In the last 5 years, the Department of Civil Engineering of Tsinghua University and the Department of Civil and Structural Engineering of The Hong Kong Polytechnic University have cooperated on a series of projects in the 4D field. In 1995, a 4D site management model was generated by Zhang [11] to demonstrate the potential merits of linking a 3D model with a project activity schedule, a model which also featured site layout and site usage, In 1998, 4D Graphics for Construction Planning and Site Utilization (acronym 4D-GCPSU) was developed by Zhang et al. [12]. 4D-GCPSU was implemented on a powerful information platform to demonstrate the force of a newly improved 4D model, 4D Site Management Model (4DSMM). Fig. 2 shows the structure of 4DSMM. Compared with its predecessor, 4DSMM includes a desirable Two-Way data exchange feature, which enables schedule information to be revised immediately when a 4D state is adjusted on graphic screen. The motivating interest behind 4D-GCPSU was to provide assistance at the site management level forFig. 2. 4DSMM in 1998.planning and communication, a level which often requires flexible short term adjustment to plans in some detail. 4D-GCPSU was built on commercial applications of AutoDesk AutoCAD and the ObjectARX development platform. Because of its TwoWay data exchange feature, users could access schedule management functions in the AutoCAD graphic environment, without switching to other schedule applications.  A resource model was introduced to extend 4DSMM to a 4D +X model in 2000. Zhang et al. [13] developed a database schema, supported by Data Warehousing and Artificial Intelligence (AI), in order to implement construction resource management. Because the next generation of 4D tools needs to process much more data than ever before, the main objective of this research was to solve problems of data storage, data sharing and dynamic data exchanging between different applications during the life-cycle of construction management, especially when processing complex data types and sources in resource management. Successfully produced in this period was a universal model of resource management, not only for material, but also for equipment and labour. A Work Breakdown Structure (WBS) system was first introduced to our 4D model, which is now the core of the whole model because of its capability for linking different modules and its extensibility. The demonstration application also showed how to organize existing data and to change it into useful information, or knowledge, using data warehousing technology to help the decision-making. The AI component of the system helped to provide suggestions and make decisions according to knowledge already acquired, and at the same time also allow information created in a project to be converted into new knowledge within the AI component.  Our recent research has focused mainly on developing an information platform based on our previous work. Here the foundation for the building of an application suite is an enhanced model. Some notable changes start to appear in the model. Firstly, WBS is used not only as a bridge between schedule information and the 3D model, but also becomes the main thread of the entire model, through which 3D model can link to schedule data as well as other types of information, such as resources. Secondly, in order to simplify resource management, 4DSMM introduces a resource template which contains the resource usage and relationship data for each resource involved. With the aid of this template, as soon as the 3D model provides quantities for each type of structural element, the model can calculate resource usage, combined with a time schedule. Thirdly, when implementing the newly extended 4DSMM, named 4DSMM+ at this stage, 4D-MCPRU applies an open and component-based architecture. Compared to 4D-GCPSU, 4D-MCPRU, the name of the implementation platform for 4DSMM+, includes several more desirable features, especially for commercial clients. For example, it can connect different types of real world data sources. The design pattern also promises the capability to adapt future technologies. 4D-MCPRU has extended to become an application suite of several productive applications and many utilities, processing many tasks on a construction site, from planning and visualization to resource calculating and tracing, and even the provision of decision-making support. All applications share the same user interface and action mode, giving a similar user environment so that it is easy for common users to switch between different applications.4. Features of 4DSMM+  4DSMM, like other 4D models, consists of the 3D model of the project coupled with a construction schedule. In addition, the model allows for the concept of incorporating the 4D model into the whole site management information system. Compared with other contemporaneous 4D models, 4DSMM adds construction progress information features and performs a number of site management functions over space and time. 4DSMM allows dynamic site planning through the project 3D model and the project schedule to implement construction planning and displays site utilization.Fig. 3. The 4DSMM++ model.  The enhanced 4D model, 4DSMM+, mainly focused on those extensions to the 4DSMM concept, necessary to cover the wider scope that also allows dynamic resource management at project level, decision-making support and site layout features. Most of the extensions are aimed to enable site layout assessment and dynamic resource management, including material, equipment and labour usage and cost control at project level, which means project managers can adjust resources plans according to the change of schedule in a timely manner. Fig. 3 describes the organization of the new 4D site management model.4.1. 4D visualization  The essential basis to the model is still the 4D concept, which embraces the addition of a time-based set of construction activities to the 3D model. One improvement of 4DSMM+ is the activity template. In 4DSMM+, when performing 4D simulation, through some predefined activity templates, the original schedule can be created and linked to each 3D object automatically with the built-in dependence created. Many previous 4D applications need to link each activity with the 3D model ‘‘explicitly’’ or manually, which is very tedious work. In 4DSMM+, those operations are mostly removed by importing a set of activity templates and some property codes. Thus, work required by users is significantly reduced. One additional benefit is that 3D objects are not directly linked to their activities any more, but rather through a WBS node instead, which contains a queue of subnodes of activities and allows the activity queue to be modified independently, without affecting the 3D model because activity information is drawn out and combined with 3D objects only in the time of 4D visualization processing.4.2. Work Breakdown Structure (WBS)  One of the main challenges for applications today is that they face a complex environment and fast changing technologies. The more fields a model is applied to, the more data and linkages must be inserted and processed in the model. These induce modifications to other parts or even to the whole architecture of the model. A mechanism to combine data from different modules dynamically is one solution to avoid such sequence of modifications. The WBS is introduced here to act as the core thread for that purpose, through which each module is inserted into the model dynamically. There is a set of schemes to build WBS code that describes the outline structure of a construction project in tree style through some coding rules. Each item in 4DSMM+, structural element or resource plan for example, a WBS property to attach itself to one or more WBS nodes is assigned, and then in turn to the whole model. In this way, each module will not only post its data to others by adding extra properties to the WBS node irrespective of how and by whom they will be utilized, but can also obtain data from other modules through WBS node. Thus, 4DSMM+ can utilize the WBS to introduce new capabilities to the model in future without disturbing the system already created.  Most planning applications use WBS to organize their data. However, it is tedious work to build the entire WBS tree, especially when activity level nodes are involved. Planners have to spend much time to create activity nodes for each construction element and build the task dependencies among activity nodes, to be used in the 4D model if 4D visualization is required. 4DSMM+ overcomes this disadvantage through its smart WBS editor, with the following benefits. Firstly, the predefined activity template makes it possible to insert a series of activities automatically for a specified structure type and to specify the sequences and dependencies. Secondly is the use of a platform-independent middle-layer component for commercial planning applications that allows planners to utilize existing commercial planning applications to edit the WBS tree if it is more convenient and familiar to users. Both of these two mechanisms substantially reduce the difficulties of building a WBS tree.4.3. Two-way data exchange  In additional to the traditional 4D simulation, a notable feature of 4DSMM+ is the two-way data exchange mechanism between the 4D model and scheduling information. This ability is very desirable for both construction planners and project managers because it means scheduling can be executed on a vivid 3D graphic platform, as opposed to the traditional 2D bar chart. When any modification of the 4D state is proposed in the 3D graphic environment through picking a 3D element in the screen and modifying its schedule property, a construction controller will immediately assess whether or not the modification is acceptable. If it is, the 4D model will be changed and the bar chart is revised automatically. The whole 4D construction model will then be regenerated at once using the revised scheduling information to represent the revised construction state. There is no need to switch between 4D visualization environment and schedule software manually. This simplifies the working procedure substantially, especially in performing what-if analyses. Likewise if a change is made on the 2D schedule bar chart, the status of the whole 4D model is automatically updated.4.4. Universal resource model  Resource usage is at the core of construction management and any project manager has to consider what resources (material, equipment, labour and others) will be used, and when resources should be acquired and delivered. The biggest challenge for a software system is that the resource plan has to be adapted to the latest changes in schedule, which are highly dynamic and often affected by many uncertainties. It becomes much easier for a project manager to use an extended 4D environment that combines 3D model, schedule information and resource management. 4DSMM+ links resource management functions to schedule information in order to process resource issues dynamically. Resource requirements are calculated precisely by 4D model because it links the real 3D objects, which provide quantity information, with timing data. The construction manager is informed for each activity which types of resource are needed and where and when they are needed. When integrating with the supply chain, 4DSMM+ can give suggestions on the generation of purchases, can trace order status and manage material stocks.  However, a mechanism is needed to bridge between 3D objects and the associated resources. A set of resource stencils is introduced in 4DSMM+ to define the relationships. The stencil gives type of material, equipment needed, numbers of units involved, preferred work package quantities, and how many workers are needed. Previous experience of the construction enterprise can be provided which should be customized to reflect the actual situation for the project. To simplify the model and maintain extensibility, 4DSMM+ uses a universal model for different types of resource, including material, equipment and labour. Each type of resource is viewed as a general resource item, related to a standard type of structural element, with quantity requirement given. Every element is assigned a standard element reference when it is created in a 3D environment. So through the resource stencil, resource requirement can be generated according to the 3D model.4.5. Site layout  A site usage model is important as an integrated part of a full 4D model. The construction site space is also viewed as a type of resource by 4DSMM+. ‘‘Workspace’’ is a resource like any other for and plant, and material movement routes too. As other structural elements, 3D objects for construction equipment, such as crane or hoist, are added to the 3D model and every storage, lay down or assembly area also has its 3D reference. Having been integrated with 4D technology, site facilities are also displayed in 4D simulation to show the status of the whole site along the time line, including facility locations and storages of permanent and temporary components. By tracing material status, 4DSMM+ knows exactly the contents at site storage locations and this is also presented in the 3D environment. This makes site layout assessment possible. Since 4DSMM+ knows exactly which type of resource, and how much of it will be used in a specified place and at a specified time, it is possible for the model to evaluate site plans on how to store and how much time is involved in transporting those resources within the site scope. Separate research by Li et al. [14] has demonstrated an approach for materials movements that could be incorporated.4.6. Dynamic resource computation  It is often difficult to keep resource requirements under control when schedule modification becomes frequent. In 4DSMM+, this task becomes much easier. The static 3D model provides workload data for all structural elements and site layout facilities. With the aid of predefined resource stencils, resource requirement for a specified future period can be computed as the 4D model identifies all elements to be constructed within that period. The computation is processed dynamically so that it reflects the latest requirement of the project.4.7. Middle-layer component  For rapid development of the application of information technology in the construction management field, extensibility is one of the important features of 4DSMM+ to provide scope to adapt to new technology. When 4DSMM was created in 1997, it was designed only to implement the 4D concept and for validating its feasibility on site. However, as more requirements have become evident, we have already extended the model to include resource management and site usage layout and more features will be added in future. To keep up to date with new concepts and technologies, the architecture of 4DSMM+ has been tailored to allow flexibility. Some common middlelayer interfaces have been introduced to separate function providers and function clients. Each group of functions is encapsulated in one single component that supports these common interfaces, so enabling each part of the model to be displaced freely without disturbing the functions of other modules if the required interface is also supported by the new module, which may implement a new concept, import new technology, or even extend to new field.  For example, when implementing 4DSMM+, it does not provide a fully independent planning tool, but utilizes commercial planning applications to adjust schedule properties, since it can connect to different data sources dynamically. To exchange data between 4DSMM+ and existing planning tools, a middle layer must be developed, implementing the common interface for each type of planning application. Each module can access planning data through that interface, in spite of which middle layer, or planning tool, is currently used in the background. Currently two middle layers for Microsoft Project 98, Microsoft Project 2000 are provided and a basic schedule engine is developed with this program. The middle layer is implemented in Windows DLL mode and is loaded dynamically according to the type of the currently selected schedule application. Other middle layers are under development. Therefor, these platform-independent middle layers support many commercial planning applications and protect the early investment and training experience of its users to date.5. Using 4D-MCPRU on site  4D-MCPRU provides an integrated working environment for construction planners. It traces the whole workflow of a construction project, from the creating of the 3D model and the generation of the schedule plan to 4D visualization and resource management. Compared to 4D-GCPSU, the 4D-MCPRU platform provides different tools for different management purposes. They are Workspace Manager for managing general workspace information, Dictionary Manager for managing resource templates and Resource Manager for supporting resource control features. Being part of the 4D-MCPRU suite, each application shares the same user interface and operating modes which smooth the transition between different applications. Besides being a stand-alone application suite, 4D-MCPRU also makes use of some widely used commercial platforms. For example, AutoDesk AutoCAD 2000R has been chosen as the graphics subsystem and some modules were developed in AutoCAD, including a set of 3D modeling tools and 4D visualization applets.5.1. Creating workspace information  4D-MCPRU provides an intuitive integrated environment, named Workspace Manager, to process construction information where each construction project is saved as a Workspace in 4D-MCPRU, containing all construction data in several related files. There are several wizards to help users create a new workspace. Each wizard supports one type of data source. The objective of Workspace Manager is to input construction information before creating the 3D model, including data at the building, floor, segment, element, and activity levels and WBS. After creating a new workspace, the user creates a new building for this workspace, new floors and then new segments. Workspace Manager also provides a predefined activity template which users can modify to suit their requirements. All tools in the Manager have a similar user interface. Fig. 4 is a typical screen shot of Workspace Manager. When performing operations, a dynamic help panel is displayed on the right hand side, giving instant tips and suggested next step operations.5.2. Building the 3D modelFig. 4. Screen shot of workspace manager.  The static 3D model actually describes the current progress, the expected progress at any future specified date including the completion date, and the actual progress at any past specified date. One significant enhancement of 4D-MCPRU is the ability to generate a 3D model easily and quickly to avoid the tedious procedure of creating 3D elements. 4D-MCPRU provided already a series of utilities to simplify the
procedure of building a 3D model. Users define standard structural elements with specified geometric parameters in Workspace Manager and use these standard elements to draw and place actual elements with some simple click-drag operations. 4D-MCPRU, however, now defines several basic structural types directly, such as wall, beam, floor, column, door, window, etc. For other elements, users can create them manually and then add them to the control within 4D-MCPRU. This feature means any object can be inserted into the 4D model. The object-oriented method also makes it possible to attach any additional properties and textual and numeric information to any 3D object. All 3D models are organized in hierarchical groups so that the entire workspace exists at the top level and detailed elements at sub-levels.  In order to support site layout assessment, construction equipments are also included in the 3D model. Each site equipment has its graphic representation that can be linked to schedule information when performing 4D visualization. In Fig. 5, a hoist is shown within a test site field.5.3. Generating WBS and schedule data  WBS, which defines the entire structure of a workspace in tree style, has become the core of the whole 4D model. Each node in the WBS tree has its WBS Code property that uses a set of schemes to describe the outline structure of the construction project.  WBS data are highly bound together to the schedule information. Many commercial planning applications, such as Microsoft Project, usually use a WBS to organize their data. There is a WBS editor (Fig. 6) in Workspace Manager which can edit the WBS tree easily. The most notable feature of this editor is the ability to generate sub-nodes of activities for some element nodes according to  
Fig. 5. 4D visualization of building and hoist.Fig. 6. WBS editor.  
existing activity templates and set initial Finish– Start dependence for these sub-nodes automatically, which will reduce substantially the working burden. A background interface engine, which is currently Microsoft Project, is used to modify the external planning software synchronously. After creating the WBS structure, users can adjust the schedule information either in the WBS editor or in the external planning software to utilize its user-friendly and familiar working environment. Some code segments ensure that all external modifications will be fed back to the Workspace Manager at the same time. 4D-MCPRU supports three kinds of external planning applications, Microsoft Project 98, Project 2000 and a simple planning engine developed within the program.5.4. 4D visualization and management  All 3D objects are organized in structure groups that possess WBS properties, through which schedule information is extracted from external planning application data. There is no need to link each related activity to a 3D element because the visualization controller will search the proper activities automatically for each element when performing 4D simulation. Thus, the user can edit activities of one element freely, without worrying about disturbing any relationship between 3D element and its activities. Compared with other early 4D tools, all ‘‘explicit’’ or manual operations formerly needed to link an activity with the 3D model have been eliminated. Fig. 7 outlines how 4D-MCPRU binds activities and the 3D model through the WBS and activity templates dynamically.  Another desirable feature is the capability of 4DMCPRU to add graphic elements not originally created by it. Thus, flexibility of the system is greatly extended. Users can create any element, whatever 2D or 3D, and assign it to a single structural group that is linked to WBS. That element will then also share the benefits of 4D visualization. If this feature were to be used in association with the set of usual existing 2D construction drawings, it will give a quick preview of the construction site, with time line added, even before complex 3D model is created.Fig. 7. Binding activity and 3D model.  During 4D visualization, 4D-MCPRU provides a valuable Two-Way management mode. Users can pick an element on the graphic screen, inspect its schedule property and status, and change these properties if needed. The modification will be fed into the external planning application automatically and the time properties of all related elements will be adjusted too. The 4D visualization model is then updated at the same time if the modification is accepted by the schedule system. There is no need to switch to the external planning application to change a 2D bar chart and then refresh the drawing. This working mode is much more user-friendly because planning of re-scheduling operations can be processed in the 3D environment. It makes it convenient to do What-If analyses when assessing several construction plans.5.5. Setting a resource templateFig. 10. Route to generate resource plan.  A set of predefined resource stencils assists the resource process and combines the 4D model with construction resources. Typically, the stencil has two parts, one to define a structural element type and the
other for resource entries for each unit of that element type. When one structural element (or a site facility) of that type is generated in a 3D environment, it will contain a resource index property, linking it to the relevant information in the resource stencil. Since the 3D model accurately knows the quantities for each element, it can determine all relevant data, such as quantities of resources to be consumed in any specified period by referring to schedule data. Moreover, this procedure is dynamic in that resource usage is automatically updated whenever the schedule plan is changed or if the 3D model, or the design, is modified. Before the extended 4D model, it was difficult for a project manager to acquire such information directly. It is now easy for a project manager to use a 4D environment to forecast the quantities for each resource precisely because the 4D model links to the real 3D object, and the timing of that data, via the WBS linkage (Fig. 10).5.6. Making resource plan and trace status  After calculation of resource requirements, construction planners devise resource plans in Resource Manage. Users create new resource plans, specifying types of material, and how much is used. This plan will be used as a guideline for future resource management. When a plan is being implemented, users can generate some order forms to different suppliers. A Storage Entry Form will be added when each resource is delivered to the construction site. The entire procedure is monitored under Resource Manager which can trace the status of each item, for example, what percentage of a resource plan has been completed, which order form is outstanding, is there any storage space available on the site, and a list of all available materials in stock.  The Resource Manager also keeps a consumption log for each resource, with which many statistical charts and graphs can be made to support decisionmaking. Planners can also compare resource usage against time, location and even by user.Fig. 8. Resource Plan Wizard.  A wizard is designed in the Resource Manager to perform resource computation (see Fig. 8). If resource costs have been input, the wizard can output individual cost for material, equipment and labour. The computation results can be saved as a reference plan or converted to a resource plan directly.5.7. Decision-making support  Successful project management requires effective decision-making based on the knowledge and experience acquired from other completed projects. To assist here, the integration of a Data Warehouse and a Decision Support System (DSS) seems to be an efficient approach. Data warehousing has been introduced in 4D-MCPRU as an accessory. The contents of a data warehouse may be a replica of data from a source and it may be the results of preprocessed queries, which can solve some questions such as ‘‘Where is a particular material consumed on thespecified building?’’  The DSS is implemented in a star schema, which is a specific type of database design used to support analytical processing, including a specific set of denormalized tables. A star schema contains two types of table: fact tables and dimension tables. Fact tables contain the quantitative or factual data about an entity. Dimension tables are smaller and hold descriptive data that reflect the dimensions of an entity. Structural Query Languages (SQL) queries then use predefined and user-defined links between the fact and dimension tables within the star schema, with constraints on the data to return the required information. Fig. 9 is a sample schema of material inventory, which has one fact table and five dimension tables connected with Foreign Keys to keep all the views coherent.  Currently, Microsoft SQL Sever is selected as a data warehousing platform. To use decision-making support, users should feed historical data into data warehousing. A computer-based model is used to collect various data about the current construction project, and the data warehousing system will analyse those historical data according to user specified requests, trying to find relationships. The more historical data is provided, the more precise results will be obtained. After making analyses, the DSS will give helpful suggestions if planners provide the values for these factors.  Data warehousing cannot solve uncertain questions, such as ‘‘What are the future progress trend?’’ To answer such questions, artificial intelligence techniques seem appropriate. In 4D-MCPRU, artificial neural networks are used to solve such questions.6. Outlook for 4DSMM+ and 4D-MCPRUFig. 9. Material inventory star schema.  The research in 4D field, now represented by the 4D-MCPRU platform, has made much progress and has been successfully used on some certification sites. The original 4D model has become 4D +X model, extending the 4D concept to other construction management fields. Our future research will focus on three issues. One is to build a hierarchical 4D model, adding construction-specific components (e.g., scaffolding, roads). Compared with 4DSMM+, the new model should be more abstract and aim at wider fields, beyond construction. The second is to find a suitable way to evaluate current construction plans, including time, space and resource. It will try to locate potential areas where problems may occur, highlighting such areas graphically to alert the planner, and compute estimate of the total effort involved in moving materials. The last objective is to develop a web-based collaborative system and to finally merge 4D technology into an entire A/E/C working environment.7. Conclusions  4D-CAD technology is steadily advancing and will have a great impact on the processes of construction management as currently practiced. An enhanced 4D model, 4DSMM+, has been described, characterized by its extensions into the areas of resource management and layout assessment. Based on 4DSMM+, a powerful information platform system, 4D-MCPRU, has shown how to link 4D technology to the full spectrum of construction management work. The integration of a WBS, 3D model, resource templates, DSS and other design and developing strategies, the 4D concept has been taken well beyond its original scheduling utility.References[1] M. Williams, Graphical simulation for project planning: 4Dplanner, Computing in Civil Engineering (1996) 404–409.[2] E. Collier, M. Fischer, Four-dimensional modeling in design and construction, CIFE Technical Report, No. 101, Stanford University, Stanford, CA, February (1995).[3] K. McKinney, J. Kim, M. Fischer, C. Howard, Interactive 4DCAD, Proc. of the Third Congress in Computing in Civil Engineering, ASCE, Anaheim, CA, 1996, pp. 383–389.[4] H.C. Howard, Modeling process and form for process plant pipe routing, modeling of buildings through their life-cycle, CIB Proceedings 180, International Council for Building Research Studies and Documentation (CIB), Stanford University, Stanford, CA, 1995, pp. 523–534.[5] T. Adjei-Kumi, A. Retik, A library-based 4D visualization of construction processes, Proceedings of the Information Visualization Conference, IEEE, Piscataway, NJ, USA, 1997, pp. 315–321, 97TB100165.[6] K.M. Liston, M. Fischer, J. Kunz, 4D annotator: a visual decision support tool for construction planners, in: K.C.P. Wang (Ed.), Computing in Civil Engineering, Proceedings of International Computing Congress, Boston, October 18–21, ASCE, New York, 1998, pp. 330–341.[7] Bentley, 1997.[8] B. Koo, M. Fischer, Feasibility study of 4D CAD in commercial construction, Journal of Construction Engineering and Management, ASCE 126 (4) (2000) 251–260.[9] K. McKinney, M. Fischer, Generating, evaluating and visualizing construction schedules with 4D-CAD tools, Automation in Construction 7 (6) (1998) 433–447.[10] M. Fischer, J. Haymaker, G. Knutson, K. Liston, B. Schwegler, S. Staub-French, Integrating CAD, scheduling, cost, and document management, Computers for Construction 2000 and A/ E/C Systems Fall Conference, Anaheim, Nov. 6.[11] J.P. Zhang, A New Approach to Construction Planning and Site Space Utilization through Computer Visualization, PhD thesis, The Hong Kong Polytechnic University, (1996).[12] J.P. Zhang, M. Anson, Q. Wang, A new 4D management approach to construction planning and site space utilization, Computing in Civil Engineering (2000) 15–22.[13] Y. Cao, J. Zhang, H. Wang, Integration of AI with database system for construction management, Proceedings of International Conference on Engineering and Technological Sciences, Science Press, Beijing, 2000, pp. 645–650.[14] Z.X. Li, M. Anson, G.M. Li, A procedure for quantitatively evaluating site layout alternatives, Construction Management & Economics 19 (2001) 459–467.576	H.J. Wang et al. / Automation in Construction 13 (2004) 575–589  	H.J. Wang et al. / Automation in Construction 13 (2004) 575–589	577    